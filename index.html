<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PhoenixNode Live Feed</title>
  <style>
    body {
      background-color: #1e1e2f;
      color: #ffffff;
      font-family: 'Segoe UI', sans-serif;
      padding: 2rem;
    }
    h1 {
      color: #ff66c4;
    }
    .container {
      background: #2a2a3c;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 0 15px rgba(255,255,255,0.05);
    }
    .block {
      background: #111827;
      border-left: 6px solid #2563eb;
      padding: 1rem;
      margin: 0.5rem 0;
      border-radius: 6px;
    }
    .safe { border-left-color: #10b981; }
    .warn { border-left-color: #fbbf24; }
    .alert { border-left-color: #ef4444; }
    .key {
      color: #facc15;
      font-weight: bold;
    }
    .meta {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>ðŸ§  PhoenixNode Live Feed</h1>
  <div class="container" id="feed"></div>
  <div class="meta">Autorefreshes every 15 seconds â€¢ GitHub Pages Powered</div>

  <script>
    async function loadStatus() {
      const res = await fetch('data.json');
      const data = await res.json();

      const container = document.getElementById('feed');
      container.innerHTML = '';

      const getClass = (value) => {
        if (value < 0.1) return 'safe';
        if (value < 0.5) return 'warn';
        return 'alert';
      };

      container.innerHTML += `
        <div class="block">
          <span class="key">timestamp:</span> ${data.timestamp}
        </div>
        <div class="block"><span class="key">deribit</span><br>${JSON.stringify(data.deribit)}</div>
        <div class="block"><span class="key">bridges</span><br>${JSON.stringify(data.bridges)}</div>
        <div class="block"><span class="key">wallets</span><br>${JSON.stringify(data.wallets)}</div>
        <div class="block ${getClass(data.deltaSignal)}">
          <span class="key">deltaSignal:</span> ${data.deltaSignal}
        </div>
      `;
    }

    loadStatus();
    setInterval(loadStatus, 15000);
  </script>
</body>
</html>
